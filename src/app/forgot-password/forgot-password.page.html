<!-- forgot-password.page.html -->
<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login"></ion-back-button>
    </ion-buttons>
    <ion-title>Forgot Password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="content-container">
    <ion-card>
      <ion-card-header>
        <ion-card-title class="ion-text-center">Password Reset</ion-card-title>
        <ion-card-subtitle class="ion-text-center">Enter your email to receive a password reset link</ion-card-subtitle>
      </ion-card-header>
      
      <ion-card-content>
        <form [formGroup]="resetPasswordForm" (ngSubmit)="resetPassword()">
          <ion-item class="ion-margin-bottom">
            <ion-label position="floating">Email</ion-label>
            <ion-input type="email" formControlName="email" placeholder="your-email@example.com"></ion-input>
            <ion-note slot="error" *ngIf="resetPasswordForm.get('email')?.touched && resetPasswordForm.get('email')?.hasError('required')">
              Email is required
            </ion-note>
            <ion-note slot="error" *ngIf="resetPasswordForm.get('email')?.touched && resetPasswordForm.get('email')?.hasError('email')">
              Please enter a valid email
            </ion-note>
          </ion-item>
          
          <div class="ion-margin-top ion-text-center">
            <ion-button type="submit" expand="block" [disabled]="resetPasswordForm.invalid || isSubmitting">
              Send Reset Link
            </ion-button>
            
            <ion-button expand="block" fill="clear" (click)="goToLogin()">
              Back to Login
            </ion-button>
          </div>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>